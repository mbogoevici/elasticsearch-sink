<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:http="http://www.springframework.org/schema/integration/http"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/integration/http http://www.springframework.org/schema/integration/http/spring-integration-http.xsd">

    <bean id="elasticSearchUrlGenerator" class="org.springframework.xd.modules.sink.elasticsearch.ElasticSearchUrlGenerator">
       <property name="protocol" value="${protocol}"/>
       <property name="hosts" value="${hosts}"/>
       <property name="index" value="${index}"/>
       <property name="type" value="${type}"/>
    </bean>

    <http:outbound-channel-adapter
            id="input"
            auto-startup="false"
            url-expression="@elasticSearchUrlGenerator.getUrl()"
            extract-payload="true"
            http-method="POST">
    </http:outbound-channel-adapter>
</beans>